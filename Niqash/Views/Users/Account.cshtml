@using Niqash.Resources
@using Microsoft.AspNet.Identity;
@model Niqash.ViewModels.UserAccountVm
@{
    ViewBag.Title = "Account";
}

<div class="account" data-account-id="@Model.UserId">

        <div class="followersAndfollowing">
            <span class="closeIcon">x</span>
            <div class="followContent"></div>
        </div>

        <div class="posts">

            <span id="userId" class="hidden">@User.Identity.GetUserId()</span>
            <span id="followTxt" class="hidden">@ViewsResource.follow</span>
            <span id="unFollowTxt" class="hidden">@ViewsResource.unFollow</span>
            <span id="followersTxt" class="hidden">@ViewsResource.followers</span>
            <span id="followingTxt" class="hidden">@ViewsResource.following</span>
            <span id="nofollowersMsg" class="hidden">@ViewsResource.nofollowersMsg</span>
            <span id="nofollowingMsg" class="hidden">@ViewsResource.nofollowingMsg</span>
            <span id="postTxt" class="hidden">@ViewsResource.post</span>
            <span id="commentTxt" class="hidden">@ViewsResource.comment</span>
            <span id="likeTxt" class="hidden">@ViewsResource.like</span>
            <span id="loveTxt" class="hidden">@ViewsResource.love</span>

            <!-- posts -->
            <form action="/Posts/CreatePost" method="post" id="postForm">
                <div class="form-group">
                    @Html.TextAreaFor(m => m.NewPost.Content, 5, 5, new { @class = "form-control siteInput", placeholder = ViewsResource.newPostPlaceholder + " ......." })
                    @Html.ValidationMessageFor(m => m.NewPost.Content)
                </div>
                <div class="form-group overflow">
                    @Html.AntiForgeryToken()
                    <input type="submit" value="@ViewsResource.share" class="siteBtn pull-right" />
                </div>
            </form>

            <div class="alert alert-info noPostsMsg customHide">
                <p class="lead text-center">
                    @ViewsResource.noPostsMsg.
                </p>
            </div>

            <!-- comments -->
            <form action="/Comments/CreateComment" method="post" id="commentForm" class="hidden">
                <div class="form-group">
                    @Html.TextAreaFor(m => m.NewComment.Content, 2, 5, new { @class = "form-control siteInput", placeholder = ViewsResource.newCommentPlaceholder + " ......." })
                    @Html.ValidationMessageFor(m => m.NewComment.Content)
                </div>
                <div class="form-group">
                    @Html.AntiForgeryToken()
                    @Html.HiddenFor(m => m.NewComment.PostId)
                </div>
            </form>

            <div class="noCommentsMsg" id="noCommentsMsg">
                <p class="text-center">
                    @ViewsResource.noCommentsMsg.
                </p>
            </div>

            <!-- edit post Modal -->
            <div class="modal fade" id="editPostModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">

                        <form action="/posts/updatePost" method="post" id="confirmPostUpdate">

                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title" id="myModalLabel">@ViewsResource.updatePost</h4>
                            </div>

                            <div class="modal-body">
                                @Html.TextAreaFor(m => m.NewPost.Content, 5, 5, new { @class = "form-control siteInput", placeholder = ViewsResource.newPostPlaceholder + " ......." })
                                @Html.ValidationMessageFor(m => m.NewPost.Content)
                            </div>

                            <div class="modal-footer">
                                <button type="button" class="closeBtn siteBtn" data-dismiss="modal">@ViewsResource.close</button>
                                <button type="submit" class="siteBtn confirmPostUpdateBtn" id="">@ViewsResource.save</button>
                            </div>

                        </form>

                    </div>
                </div>
            </div>

            <!-- remove post Modal -->
            <div class="modal fade" id="removePostModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title remove" id="myModalLabel">@ViewsResource.warningMsg</h4>
                        </div>
                        <div class="modal-body">
                            @ViewsResource.removePostWarningMsg
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="closeBtn siteBtn" data-dismiss="modal">@ViewsResource.close</button>
                            <button type="button" class="siteBtn" id="confirmRemovePost">@ViewsResource.remove</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- edit comment Modal -->
            <div class="modal fade" id="editCommentModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">

                        <form action="/comments/updateComment" method="post" id="confirmCommentUpdate">

                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title" id="myModalLabel">@ViewsResource.updateComment</h4>
                            </div>

                            <div class="modal-body">
                                @Html.TextAreaFor(m => m.NewComment.Content, 5, 5, new { @class = "form-control siteInput", placeholder = ViewsResource.newPostPlaceholder + " ......." })
                                @Html.ValidationMessageFor(m => m.NewComment.Content)
                            </div>

                            <div class="modal-footer">
                                <button type="button" class="closeBtn siteBtn" data-dismiss="modal">@ViewsResource.close</button>
                                <button type="submit" class="siteBtn confirmCommentUpdateBtn" id="">@ViewsResource.save</button>
                            </div>

                        </form>

                    </div>
                </div>
            </div>

            <!-- remove comment Modal -->
            <div class="modal fade" id="removeCommentModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title remove" id="myModalLabel">@ViewsResource.warningMsg</h4>
                        </div>
                        <div class="modal-body">
                            @ViewsResource.removeCommentWarningMsg
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="closeBtn siteBtn" data-dismiss="modal">@ViewsResource.close</button>
                            <button type="button" class="siteBtn" id="confirmRemoveComment">@ViewsResource.remove</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/accountCalls")
    @Scripts.Render("~/bundles/postCalls")
}
